//Удаление из строки заданного слова по номеру
//Слова разделены символами из заданного множества
//Автор Глиндзич Дмитрий
#include <stdio.h>
#include <stdlib.h>
#include <conio.h>
#include <string.h>

void delwrd(char*,int,const char*);           //Удаляет слово по его номеру из строки

void main()
{
 printf("Enter your string:");
 char c[80];
 int n;
 gets(c);                                     //Вводим строку
 printf("Enter word's number:");
 scanf("%d",&n);                              //Вводим номер слова
 char *set=" ,;.:_";                          //Множество разделителей
 delwrd(c,n,set);                             //Удаляем ...
 puts(c);                                     //Выводим результат
 getch();
}

void delwrd(char*A,int n,const char*set)      //Удаляет n-ое слово из А учитывая разделители из Set
{
 int i=0,c=0,p=0;
 while((*(A+i)!=NULL)&&(c!=n))               //Ищем n-ое слово пока строка не закончилась
  {
   if(!strchr(set,*(A+i)))                   //Проверка A[i] на не разделитель
    {
    if(!p)                                   //Если до него был разделитель,
      {                                      //увеличиваем счетчик слов
	c++;
	p=1;                                 //р="не разделитель"
      }
    }
   else p=0;                                 //...Иначе р="разделитель"
   i++;                                      //Увеличиваем индекс
  }
					    //Если найден нужный номер:
  if(c==n&&c)
   {
    --i;
    int j=0;                                            //j-длина искомого слова
    while((*(A+i+j)!=NULL)&&(!strchr(set,*(A+i+j))))    //Считаем его длину
     j++;
    int t=-1;
     do                                                 //Сдвигаем всю строку влево,
      {                                                 //удаляя искомое
       t++;
       *(A+i+t)=*(A+i+j+t);
      }
     while((*(A+i+j+t)!=NULL));
   }
}
